/* ====== Theme ====== */
:root{
  --brand:#0DA5A5;
  --brand-dark:#0A7171;
  --gold-1:#FFD564;
  --gold-2:#FFB431;
  --gold-3:#F39C12;

  --text:#F8FAFC;
  --muted:#C7D2FE;
  --glass:rgba(255,255,255,.08);
  --border:rgba(255,255,255,.18);

  --radius-xl:28px;
  --radius-lg:20px;
  --radius-md:14px;

  --cell-h:96px;          /* Reel-Zellenhöhe (wichtig für Scroll) */
  --shadow-deep:0 18px 60px rgba(0,0,0,.45), 0 4px 16px rgba(0,0,0,.35);
  --shadow-soft:0 10px 30px rgba(0,0,0,.25);
}

@media (min-width:720px){
  :root{ --cell-h:108px; }
}

/* ====== Base ====== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", sans-serif;
  color:var(--text);
}
.stage{
  background:
    radial-gradient(60% 60% at 50% 35%, #4b1ca6 0%, #3b138f 45%, #281073 75%, #1a0b52 100%);
}

.container{max-width:1200px;margin:0 auto;padding:16px;}
.sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}
.center{text-align:center}

/* Header/Footer glass */
.glass{
  background:linear-gradient(180deg, var(--glass), rgba(255,255,255,.04));
  backdrop-filter: blur(8px);
  border-bottom:1px solid var(--border);
}
.site-header .container,.site-footer .container{display:flex;align-items:center;justify-content:space-between;gap:8px;}
.brand{font-weight:800;text-decoration:none;color:var(--text)}
.link{color:var(--gold-1);text-decoration:none}
.link:hover{text-decoration:underline}
.muted{color:var(--muted)}
.h2{font-size:clamp(1.2rem, .9rem + 1.2vw, 1.6rem);margin:0 0 8px}
.h3{font-size:clamp(1.05rem, .85rem + .8vw, 1.25rem);margin:16px 0 8px}

/* ====== Buttons ====== */
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  min-height:48px;padding:0 24px;border-radius:16px;border:1px solid transparent;
  cursor:pointer;font-weight:700;letter-spacing:.2px;
  box-shadow:0 4px 12px rgba(0,0,0,.25);
}
.btn:focus{outline:2px solid var(--gold-2);outline-offset:2px}
.btn-primary{background:linear-gradient(180deg, var(--gold-1), var(--gold-2));color:#2a0e64;border-color:#FFD36A}
.btn-primary:hover{filter:brightness(1.06)}
.btn-secondary{background:transparent;color:#fff;border-color:rgba(255,255,255,.25)}
.btn-secondary:hover{background:rgba(255,255,255,.06)}
.btn.big{min-height:56px;border-radius:20px}

/* ====== Machine ====== */
.slot-wrap{padding:24px 0;display:grid;place-items:center}

.machine{
  position:relative;
  width:min(760px, 96vw);
  border-radius:var(--radius-xl);
  background:
    linear-gradient(180deg, #2a0e64 0%, #200a54 45%, #170943 100%);
  border:2px solid #5e36dc;
  box-shadow: var(--shadow-deep);
  padding:16px 16px 24px;
}
.machine.glow{ box-shadow:0 0 0 6px rgba(255,255,255,.04), 0 28px 80px rgba(64, 7, 160, .55); }

/* Marquee */
.marquee{
  position:relative;
  margin-inline:auto;
  margin-top:-24px;
  width:min(480px, 92%);
  height:76px;
  border-radius:999px;
  background:linear-gradient(180deg, #ffe38f 0%, #ffc44e 45%, #ff9f12 100%);
  border:3px solid #ffd36a;
  box-shadow:0 12px 28px rgba(0,0,0,.35), inset 0 2px 0 rgba(255,255,255,.75), inset 0 -2px 0 rgba(0,0,0,.18);
  display:grid;place-items:center;
}
.marquee span{
  font-weight:800;letter-spacing:.1em;color:#35127a;text-shadow:0 1px 0 rgba(255,255,255,.85);
  font-size:clamp(1.2rem, 1rem + 1.4vw, 1.9rem);
}
.bulb-row{
  position:absolute;inset:8px;display:flex;justify-content:space-between;align-items:center;pointer-events:none;
}
.bulb{
  width:10px;height:10px;border-radius:999px;background:#fff;
  box-shadow:0 0 10px rgba(255,214,120,.9), 0 0 20px rgba(255,153,0,.6);
  opacity:.9;transform:translateY(-24px);
  animation: twinkle 1.8s ease-in-out infinite;
}
.bulb:nth-child(odd){animation-delay:.25s}
@keyframes twinkle{0%,100%{opacity:.85}50%{opacity:1}}

.marquee.lit{ filter: drop-shadow(0 0 14px rgba(255,220,120,.9)) drop-shadow(0 0 40px rgba(255,160,0,.55)); }

/* Crest */
.crest{
  margin:12px auto 12px; width:min(560px, 94%); height:16px; border-radius:999px;
  background:linear-gradient(180deg, rgba(255,255,255,.25), rgba(255,255,255,.08));
  box-shadow:inset 0 1px 0 rgba(255,255,255,.5), inset 0 -1px 0 rgba(0,0,0,.2);
  position:relative;
}
.crest-lamp{
  position:absolute;left:50%;top:-10px;transform:translateX(-50%);
  width:18px;height:18px;border-radius:999px;
  background:radial-gradient(circle at 30% 30%, #fff, #ffd6a6 40%, #ffb24d 60%, #ff8800 85%);
  box-shadow:0 0 10px rgba(255,136,0,.7), 0 0 22px rgba(255,136,0,.45);
}

/* Body & Frame */
.body{ display:grid; gap:16px; padding:0 12px; }

.frame{
  position:relative;
  display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;padding:18px;
  border-radius:22px;
  background:linear-gradient(180deg, #0e0728, #0a0622);
  border:2px solid #6f3bff;
  box-shadow:inset 0 2px 0 rgba(255,255,255,.06), inset 0 -2px 0 rgba(0,0,0,.35), 0 6px 22px rgba(0,0,0,.45);
}

/* Reel Window & Strip (SCROLLER) */
.reel-window{
  position:relative;
  height:var(--cell-h);
  border-radius:16px;
  overflow:hidden;
  background:
    radial-gradient(60% 140% at 50% -10%, rgba(255,255,255,.25), rgba(255,255,255,0) 50%),
    linear-gradient(180deg, #0f0a2d, #09061e);
  border:1px solid rgba(255,255,255,.2);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.12), inset 0 -1px 0 rgba(0,0,0,.45);
}
.reel-strip{
  position:absolute;left:0;top:0;width:100%;
  display:grid;grid-auto-rows:var(--cell-h);
  will-change:transform;
}
.cell{
  display:grid;place-items:center;
  font-size:clamp(1.2rem, 1rem + 1.5vw, 2rem);
  font-weight:800;letter-spacing:.3px;color:#fff;
  text-shadow: 0 1px 0 rgba(0,0,0,.55);
}
.cell.bad{color:#ff6767}
.cell.logo{color:#ffe38f}

/* Gloss overlay */
.reel-gloss{
  position:absolute;inset:0;pointer-events:none;
  background:
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0) 30%, rgba(0,0,0,0) 70%, rgba(0,0,0,.25) 100%);
}

/* Column separators */
.divider{
  position:absolute;top:10px;bottom:10px;width:3px;left:33.33%;
  background:linear-gradient(180deg, rgba(255,255,255,.28), rgba(255,255,255,0) 22%, rgba(255,255,255,.28) 78%, rgba(255,255,255,0));
  filter: drop-shadow(0 0 6px rgba(255,255,255,.22));
}
.divider + .divider{ left:66.66%; }

/* Console */
.console{ display:flex;gap:12px;align-items:center;justify-content:center; }

/* Lever */
.lever{
  position:absolute;right:-46px;top:110px;width:24px;height:120px;border:none;background:transparent;cursor:pointer;
}
.lever::before{
  content:"";position:absolute;left:9px;top:14px;width:6px;height:96px;border-radius:6px;
  background:linear-gradient(180deg, #cfd8dc, #90a4ae);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.6), inset 0 -1px 0 rgba(0,0,0,.2);
  transform-origin:50% 0%; transition:transform .18s cubic-bezier(.2,.8,.2,1);
}
.lever::after{
  content:"";position:absolute;left:-1px;top:-2px;width:28px;height:28px;border-radius:999px;
  background:radial-gradient(circle at 30% 30%, #fff, #ff6a6a 45%, #ff3030 70%, #e21111 90%);
  box-shadow:0 4px 16px rgba(226,17,17,.45), inset 0 1px 0 rgba(255,255,255,.85);
  transition:transform .18s cubic-bezier(.2,.8,.2,1);
}
.lever.active::before{transform:rotate(14deg)}
.lever.active::after{transform:translateY(16px)}

/* Info Card / Legend */
.card{
  border-radius:var(--radius-lg);
  border:1px solid var(--border);
  background:var(--glass);
  box-shadow:var(--shadow-soft);
  padding:20px;margin-block:18px;
}
.legend{
  display:grid;grid-template-columns: 1fr;gap:10px;margin-top:8px;
}
@media (min-width:720px){ .legend{ grid-template-columns: 1fr 1fr } }
.legend-item{
  display:flex;align-items:center;gap:10px;
  padding:12px;border:1px solid var(--border);
  border-radius:12px;background:rgba(255,255,255,.06);
}
.badge{
  display:inline-flex;align-items:center;gap:8px;
  padding:6px 10px;border-radius:999px;border:1px solid var(--border);
  background:rgba(255,255,255,.06);font-weight:700;color:#fff;
}
.badge .thumb{
  width:28px;height:28px;border-radius:999px;display:grid;place-items:center;
  border:1px solid rgba(255,255,255,.25);background:#fff;font-size:.9rem;color:#0f172a;
}
.badge .thumb img{width:20px;height:20px;object-fit:contain;display:block}
.legend-item .badge{margin-right:auto}
.legend-eq{min-width:28px;text-align:center;color:#ffd977;font-weight:800}
.legend-reward{color:#fff}
.legend-item.zonk{opacity:.85}

/* Feedback / Toast / Confetti */
.result{min-height:1.6em;margin-top:10px}
.toast{
  position:fixed;left:50%;bottom:24px;transform:translateX(-50%);
  background:linear-gradient(180deg, rgba(0,0,0,.7), rgba(0,0,0,.55));
  color:#fff;border:1px solid var(--border);
  border-radius:12px;box-shadow:var(--shadow-soft);
  padding:10px 14px;opacity:0;pointer-events:none;transition:opacity .2s ease;
}
.toast.show{opacity:1}
.confetti-canvas{position:fixed;inset:0;pointer-events:none}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce){
  .lever::before,.lever::after,.btn{transition:none}
}
